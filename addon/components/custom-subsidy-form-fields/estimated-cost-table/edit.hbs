<AuLabel class="{{if this.errors "au-c-label--error"}}" for={{this.inputFor}}>
  {{@field.label}}
  {{#if this.isRequired}}
    <AuPill>Verplicht</AuPill>
  {{/if}}
</AuLabel>

{{#unless this.costHasValue}}
  <AuAlert @alertIcon="alert-triangle" @alertTitle="Ten minste één kosten veld moet een positieve hoeveelheid bevatten" @alertskin={{"error"}} @alertsize={{"small"}}>
  </AuAlert>
  <input type="text" class="hidden" required>
{{/unless}}

<table class="data-table data-table--zebra data-table--tight au-u-margin-top-small">
  <thead>
    <tr>
      <th>
      </th>
      <th>
        Kosten (Excl. BTW)
      </th>
      <th>
        Het gemeentelijk aandeel (%) in kosten﻿
      </th>
    </tr>
  </thead>
  <tbody>
    {{#each this.entries as |entry index|}}
      <tr>
        <td>
          <AuLabel>
            {{entry.description.value}}
          </AuLabel>
        </td>
        <td>
          <AuLabel for="costs-{{index}}" class="au-u-hidden-visually">
            Kosten (Excl. BTW)
          </AuLabel>
          <AuInput id="costs-{{index}}" @width={{"block"}} @value={{entry.cost.value}}
            type="number"
            class={{if entry.cost.errors "au-c-input--error"}}
            {{on "blur" (fn this.updateCost entry)}}
          />
          {{#each entry.cost.errors as |error|}}
            <AuHelpText @error={{"error"}}>{{error.message}}</AuHelpText>
          {{/each}}
        </td>
        <td>
          <AuLabel for="share-{{index}}" class="au-u-hidden-visually">
            Het gemeentelijk aandeel (%) in kosten﻿
          </AuLabel>
          <AuInput id="share-{{index}}" @width={{"block"}} @value={{entry.share.value}}
            type="number"
            class={{if entry.share.errors "au-c-input--error"}}
            {{on "blur" (fn this.updateShare entry)}}
          />
          {{#each entry.share.errors as |error|}}
            <AuHelpText @error={{"error"}}>{{error.message}}</AuHelpText>
          {{/each}}
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>

{{yield}}
